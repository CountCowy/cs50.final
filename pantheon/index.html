{% extends "layout.html" %}

{% block title %}
    Scan
{% endblock %}

{% block main %}
  <!-- Main container -->
  <div class="container py-5">
    <div class="text-center mb-4">
      <h1 class="text-warning">Latin Hexameter Scanner</h1>
      <p>Enter a line of Latin poetry to get its scansion.</p>
    </div>

    <div class="card p-4 mx-auto" style="max-width: 700px;">
      <form id="scan-form" action="/" method="post">
        <div class="mb-3">
          <input type="text" name="usrinput" class="form-control" id="line" placeholder="Enter a line of Latin poetry" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Scan</button>
      </form>
    </div>
    <div id="loading-spinner" class="text-center mt-4" style="display: none;">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3 fw-bold">
        Processingâ€¦ OpenAI may take a long time to respond - please wait.
      </p>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("scan-form");
        form.addEventListener("submit", function () {
            document.getElementById("loading-spinner").style.display = "block";
        });
    });
  </script>
{% endblock %}
